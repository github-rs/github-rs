sudo: false
language: rust
os:
- linux
- osx
rust:
- stable
- nightly
- beta
env:
- FEATURES=default
- FEATURES=rust-native-tls
before_install:
- openssl aes-256-cbc -K $encrypted_b63566236b41_key -iv $encrypted_b63566236b41_iv
  -in auth_token.enc -out tests/auth_token -d
script:
- cargo build --no-default-features --features "$FEATURES"
- cargo test
- cd github-gql-rs
- cargo build --no-default-features --features "$FEATURES"
- cargo test
